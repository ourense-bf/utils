<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Horario semanal – Fitboxing Ourense</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    .glow { box-shadow: 0 10px 30px rgba(255, 200, 0, .25), inset 0 0 0 1px rgba(255, 255, 255, .08); }
    .gridline td { border-color: rgba(255,255,255,.08) !important; }
    .grain:before{ content:"";position:absolute;inset:0;pointer-events:none; background-image:url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" preserveAspectRatio="none"><filter id="n"><feTurbulence type="fractalNoise" baseFrequency=".8" numOctaves="2" stitchTiles="stitch"/></filter><rect width="100%" height="100%" filter="url(%23n)" opacity=".035"/></svg>'); mix-blend-mode:soft-light }
  </style>
</head>
<body class="min-h-screen bg-neutral-950 text-neutral-100 selection:bg-amber-300 selection:text-neutral-900">
  <!-- Hero -->
  <header class="relative overflow-hidden">
    <div class="absolute -top-40 -left-40 w-[40rem] h-[40rem] rounded-full bg-gradient-to-br from-amber-400/30 via-yellow-200/20 to-transparent blur-3xl"></div>
    <div class="absolute -bottom-40 -right-40 w-[40rem] h-[40rem] rounded-full bg-gradient-to-tr from-fuchsia-400/10 via-amber-300/10 to-transparent blur-3xl"></div>
    <div class="relative grain">
      <div class="mx-auto max-w-7xl px-6 py-14 sm:py-16">
        <div class="flex flex-col sm:flex-row sm:items-end sm:justify-between gap-6">
          <div>
            <p class="inline-flex items-center gap-2 text-xs uppercase tracking-widest text-amber-300/80">
              <span class="inline-block h-2 w-2 rounded-full bg-amber-300 animate-pulse"></span>
              Horarios activos
            </p>
            <h1 class="mt-3 text-3xl sm:text-4xl md:text-5xl font-black leading-tight">
              Fitboxing Ourense
              <span class="block text-transparent bg-clip-text bg-gradient-to-r from-amber-300 via-yellow-200 to-white">Horario semanal</span>
            </h1>
            <p class="mt-3 text-neutral-300/80 max-w-2xl">Clases marcadas en <span class="text-amber-300">amarillo</span>. Cada bloque resalta <em>1 hora completa</em>.</p>
          </div>
          <span class="group inline-flex items-center gap-3 rounded-2xl border border-amber-300/20 bg-neutral-900/60 px-5 py-3 text-sm font-semibold glow">⚡ Dale duro esta semana</span>
        </div>
      </div>
    </div>
  </header>

  <!-- Leyenda -->
  <section class="mx-auto max-w-7xl px-6">
    <div class="mb-4 flex items-center gap-4 text-xs text-neutral-300/80">
      <span class="inline-flex items-center gap-2"><span class="h-3 w-3 rounded bg-amber-300"></span> Clase (1h)</span>
      <span class="inline-flex items-center gap-2"><span class="h-3 w-3 rounded bg-neutral-800"></span> Sin clase</span>
    </div>
  </section>

  <!-- Tabla horario -->
  <section class="mx-auto max-w-7xl px-3 sm:px-6 pb-20">
    <div class="overflow-x-auto rounded-2xl border border-white/10 bg-neutral-900/40 backdrop-blur-xl glow">
      <table id="tabla-horario" class="w-full border-collapse text-sm md:text-[15px] gridline">
        <thead class="bg-neutral-900/60 sticky top-0 z-10">
          <tr>
            <th class="w-24 md:w-28 px-3 py-3 text-left font-semibold text-neutral-300">Hora</th>
            <th class="px-3 py-3 font-semibold">Lunes</th>
            <th class="px-3 py-3 font-semibold">Martes</th>
            <th class="px-3 py-3 font-semibold">Miércoles</th>
            <th class="px-3 py-3 font-semibold">Jueves</th>
            <th class="px-3 py-3 font-semibold">Viernes</th>
            <th class="px-3 py-3 font-semibold">Sábado</th>
            <th class="px-3 py-3 font-semibold">Domingo</th>
          </tr>
        </thead>
        <tbody id="tbody" class="divide-y divide-white/5"></tbody>
      </table>
    </div>
  </section>

  <script>
    // --- Configuración simple para editar a mano ---
    // Pon aquí los inicios de clase (HH:MM). Cada bloque ocupa 1 hora (2 celdas de 30').
    const aida = {name: 'Aida', bg: "#fff", fg: "#000" }
    const dante = {name: 'Dante', bg: "#aaa", fg: "#fff" }
    const adri = {name: 'Adri', bg: "#000", fg: "#fff" }
    const rebe = {name: 'Rebe', bg: "#F80000", fg: "#fff" }
    const trainer = {name: 'Trainer', bg: "#F80000", fg: "#fff" }
    const clases = {
      "Lunes": [
        { time: "07:00", trainers: [aida] },
        { time: "08:00", trainers: [aida] },
        { time: "09:30", trainers: [aida] },
        { time: "13:30", trainers: [dante] },
        { time: "17:30", trainers: [trainer] },
        { time: "19:30", trainers: [trainer] },
        { time: "21:00", trainers: [adri] },
      ],
      "Martes": [
        { time: "09:30", trainers: [dante] },
        { time: "10:30", trainers: [dante] },
        { time: "14:30", trainers: [adri] },
        { time: "18:00", trainers: [trainer] },
        { time: "19:00", trainers: [trainer] },
        { time: "20:00", trainers: [trainer] },
        { time: "21:30", trainers: [trainer] },
      ],
      "Miércoles": [
        { time: "07:00", trainers: [aida] },
        { time: "08:00", trainers: [aida] },
        { time: "09:30", trainers: [aida] },
        { time: "13:30", trainers: [dante] },
        { time: "17:30", trainers: [trainer] },
        { time: "19:30", trainers: [trainer] },
        { time: "21:00", trainers: [adri] },
      ],
      "Jueves": [
        { time: "09:30", trainers: [dante] },
        { time: "10:30", trainers: [dante] },
        { time: "14:30", trainers: [adri] },
        { time: "18:00", trainers: [trainer] },
        { time: "19:00", trainers: [trainer] },
        { time: "20:00", trainers: [trainer] },
        { time: "21:30", trainers: [trainer] },
      ],
      "Viernes": [
        { time: "11:00", trainers: [aida] },
        { time: "15:30", trainers: [adri] },
        { time: "17:30", trainers: [rebe] },
        { time: "18:30", trainers: [rebe] },
      ],
      "Sábado": [
        { time: "10:00", trainers: [rebe, dante] },
        { time: "11:00", trainers: [rebe, dante] },
      ],
      "Domingo": [
        { time: "10:00", trainers: [rebe, dante] },
        { time: "11:00", trainers: [rebe, dante] },
      ],
    };

    const dias = ["Lunes","Martes","Miércoles","Jueves","Viernes","Sábado","Domingo"];

    const start = 7*60;  // 07:00
    const end   = 23*60; // 23:00 (no incluído)

    const tbody = document.getElementById('tbody');

    // Mapa para saber si un slot ya está cubierto por un rowspan (para pintar 1h)
    const ocupado = Object.fromEntries(dias.map(d => [d, new Set()]));

    for (let t = start; t < end; t += 60) {
      const hourLabel = two(Math.floor(t/60)) + ":00";
      const slotA = t;       // :00
      const slotB = t + 30;  // :30

      // Fila :00
      const trA = document.createElement('tr');
      // Columna hora (rowspan=2)
      const th = document.createElement('td');
      th.rowSpan = 2;
      th.className = "sticky left-0 z-10 bg-neutral-900/80 backdrop-blur sm:w-28 align-middle text-left font-normal text-white px-3 py-4 border-r border-white/5";
      th.innerHTML = `<span class="text-white font-normal">${hourLabel}</span>`;
      trA.appendChild(th);

      dias.forEach(d => trA.appendChild(celda(d, slotA)));

      // Fila :30
      const trB = document.createElement('tr');
      dias.forEach(d => trB.appendChild(celda(d, slotB)));

      tbody.appendChild(trA);
      tbody.appendChild(trB);
    }

    function two(n){ return String(n).padStart(2,'0'); }
    function toHHMM(m){ return `${two(Math.floor(m/60))}:${two(m%60)}`; }
    function plus30(hhmm){
      const [h,m]=hhmm.split(':').map(Number); const total=h*60+m+30; return toHHMM(total);
    }

    function celda(dia, minutes){
      const td = document.createElement('td');
      const hhmm = toHHMM(minutes);

      // Si está cubierto por un rowspan previo, devolvemos una celda vacía (no visible)
      if (ocupado[dia].has(hhmm)) { td.className = "hidden"; return td; }

      const diaClases = (clases[dia]||[]);
      const clase = diaClases.find(c => c.time === hhmm);

      if (clase){
        // Bloque de 1 hora -> ocupa dos slots de 30'
        td.rowSpan = 2;
        const horaTexto = hhmm; // solo mostramos la hora en las celdas con clase
        td.className = "align-middle px-2 py-3 md:px-3 md:py-3 bg-amber-300/85 text-neutral-900 font-semibold glow border-t border-white/5";
        const badges = (clase.trainers || []).slice(0,2).map(t => '<span class="inline-flex items-center rounded-md px-2 py-0.5 text-[11px] font-bold" style="background:'+t.bg+';color:'+t.fg+'">'+t.name+'</span>').join(' ');
        
        td.innerHTML = '<div class="flex items-center justify-between gap-2"><span>'+horaTexto+'</span><span class=\"flex flex-col gap-1 items-end\">'+badges+'</span></div>';
        // Marca el siguiente slot como ocupado para evitar pintar otra celda
        ocupado[dia].add(plus30(hhmm));
      } else {
        // Celda sin clase (no mostrar hora)
        td.className = "px-2 py-3 md:px-3 md:py-3 bg-neutral-800/30 text-neutral-100 border-t border-white/5";
        td.innerHTML = ""; // vacío
      }

      return td;
    }
  </script>

  <footer class="px-1 py-1 text-center text-xs text-neutral-500/80">
    <p>Hecho con ❤️, cafeína y patadas al saco. — <span class="text-neutral-300">Ourense</span></p>
  </footer>
</body>
</html>
